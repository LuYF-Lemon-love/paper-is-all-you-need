\pdfoutput=1
\documentclass{article}

% if you need to pass options to natbib, use, e.g.:
%     \PassOptionsToPackage{numbers, compress}{natbib}
% before loading neurips_2023


% ready for submission
% \usepackage[nonatbib]{neurips_2023}


% to compile a preprint version, e.g., for submission to arXiv, add add the
% [preprint] option:
\usepackage[preprint]{neurips_2023}


% to compile a camera-ready version, add the [final] option, e.g.:
%     \usepackage[final]{neurips_2023}


% to avoid loading the natbib package, add option nonatbib:
%    \usepackage[nonatbib]{neurips_2023}


\usepackage[utf8]{inputenc} % allow utf-8 input
\usepackage[T1]{fontenc}    % use 8-bit T1 fonts
\usepackage{hyperref}       % hyperlinks
\usepackage{url}            % simple URL typesetting
\usepackage{booktabs}       % professional-quality tables
\usepackage{amsfonts}       % blackboard math symbols
\usepackage{nicefrac}       % compact symbols for 1/2, etc.
\usepackage{microtype}      % microtypography
\usepackage[table,xcdraw]{xcolor}         % colors

\usepackage{tabularx,booktabs}
\newcolumntype{Y}{>{\centering\arraybackslash}X}

% my packages
\usepackage{subcaption}
\usepackage{wrapfig}
\usepackage{multirow}
\usepackage{makecell}
\usepackage{xspace}
\usepackage{enumitem}
% \usepackage{float}
\usepackage{amsmath}
\usepackage{listings}
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage{amsfonts,amssymb}
\usepackage{mathrsfs}
\usepackage{subcaption}
\usepackage{natbib}
\setcitestyle{numbers,square}
\usepackage{graphicx}       % graphs
\usepackage{cleveref}
\usepackage{hyperref}

% my commands
\newcommand{\hhide}[1]{}
\newcommand{\hide}[1]{}
\newcommand{\model}[0]{ChatGLM\xspace}
\newcommand{\vpara}[1]{\vspace{0.07in}\noindent\textbf{#1}\xspace} % 
\newcommand{\todo}[1]{{\color{red}[\textbf{(2do: #1 )]}}}
\newcommand{\dong}[1]{{\color{blue}[(Dong: #1 )]}}


\title{ChatGLM: A Family of Large Language Models \\from GLM-130B to GLM-4 All Tools}


% The \author macro works with any number of authors. There are two commands
% used to separate the names and addresses of multiple authors: \And and \AND.
%
% Using \And between authors leaves it to LaTeX to determine where to break the
% lines. Using \AND forces a line break at that point. So, if LaTeX puts 3 of 4
% authors names on the first line, and the last on the second line, try using
% \AND instead of \And before the third author name.


 \author{
Team GLM\\ \\
\textsuperscript{1}Zhipu AI \quad
\textsuperscript{2}Tsinghua University \quad 
\\ \\
{\includegraphics[height=3.5ex]{figs/zhipu-logo}}
}
 


\begin{document}


\maketitle
\renewcommand{\thefootnote}{\fnsymbol{footnote}}
    \footnotetext[1]{Team GLM: Aohan Zeng, Bin Xu, Bowen Wang, Chenhui Zhang, Da Yin, Diego ROJAS, Guanyu Feng, Hanlin Zhao, Hanyu Lai, Hao Yu, Hongning Wang, Jiadai Sun, Jiajie Zhang, Jiale Cheng, Jiayi Gui, Jie Tang, Jing Zhang, Juanzi Li, Lei Zhao, Lindong Wu, Lucen Zhong, Mingdao Liu, Minlie Huang, Peng Zhang, Qinkai Zheng, Rui Lu, Shuaiqi Duan, Shudan Zhang, Shulin Cao, Shuxun Yang, Weng Lam Tam, Wenyi Zhao, Xiao Liu, Xiao Xia, Xiaohan Zhang, Xiaotao Gu, Xin Lv, Xinghan Liu, Xinyi Liu, Xinyue Yang, Xixuan Song, Xunkai Zhang, Yifan An, Yifan Xu, Yilin Niu, Yuantao Yang, Yueyan Li, Yushi Bai, Yuxiao Dong, Zehan Qi, Zhaoyu Wang, Zhen Yang, Zhengxiao Du, Zhenyu Hou, Zihan Wang. 
    }
    \footnotetext[2]{Team members are listed alphabetically by first name.}
\renewcommand{\thefootnote}{\arabic{footnote}}

 


\begin{abstract}

We introduce ChatGLM, an evolving family of large language models that we have been developing over time. 
This report primarily focuses on the GLM-4 language series, which includes GLM-4, GLM-4-Air, and GLM-4-9B. 
They represent our most capable models that are trained with all the insights and lessons gained from the preceding three generations of ChatGLM. 
To date, the GLM-4 models are pre-trained on ten trillions of tokens mostly in Chinese and English, along with a small set of corpus from 24 languages, and aligned primarily for Chinese and English usage. 
The high-quality alignment is achieved via a multi-stage post-training process, which involves supervised fine-tuning and learning from human feedback. 
Evaluations show that GLM-4 1) closely rivals or outperforms GPT-4 in terms of general metrics such as MMLU, GSM8K, MATH, BBH, GPQA, and HumanEval, 2) gets close to GPT-4-Turbo in instruction following as measured by IFEval, 3) matches GPT-4 Turbo (128K) and Claude 3 for long context tasks, and 4) outperforms GPT-4 in Chinese alignments as measured by AlignBench. 
The GLM-4 All Tools model is further aligned to understand user intent and autonomously decide when and which tool(s) to use---including web browser, Python interpreter, text-to-image model, and user-defined functions---to effectively complete complex tasks. 
In practical applications, it matches and even surpasses GPT-4 All Tools in tasks like accessing online information via web browsing and solving math problems using Python interpreter. 
Over the course, we have open-sourced a series of models, including ChatGLM-6B (three generations), GLM-4-9B (128K, 1M), GLM-4V-9B, WebGLM, and CodeGeeX, attracting over 10 million downloads on Hugging face in the year 2023 alone. 
The open models can be accessed through \url{https://github.com/THUDM} and \url{https://huggingface.co/THUDM}. 

\end{abstract}
\clearpage

\input{1_intro}
\input{2_method}
\input{3_results}
\input{4_safety}
\input{5_conclusion}

\vpara{Acknowledgement.} 
We would like to thank all the data annotators, infra operating staffs, collaborators, and partners as well as everyone at Zhipu AI and Tsinghua University not explicitly mentioned in the report who have provided support, feedback, and contributed to ChatGLM. 
We would also like to thank Yuxuan Zhang and Wei Jia from Zhipu AI as well as the teams at Hugging Face, ModelScope, WiseModel, and others for their help on the open-sourcing efforts of the GLM family of models.

\bibliographystyle{abbrv}
\bibliography{ref}

\end{document}